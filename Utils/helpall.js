const { EmbedBuilder, ActionRowBuilder, StringSelectMenuBuilder } = require('discord.js');
const config = require('../../Client/config');

module.exports = {
    name: 'helpall',
    description: 'Affiche toutes les commandes disponibles sous forme de menu d√©roulant organis√©.',
    async execute(message) {
        const embed = new EmbedBuilder()
            .setColor(config.color) 
            .setTitle('**Helpall**')
            .setDescription(`Affiche des informations d√©taill√©es sur les commandes`)
            .setFooter({ text: config.footer })

        const selectMenu = new StringSelectMenuBuilder()
            .setCustomId('helpall_menu')
            .setPlaceholder('S√©lectionnez une cat√©gorie')
            .addOptions([
                {
                    label: 'Owners',
                    description: 'Afficher les commandes li√©es aux Owners',
                    value: 'owner_commands',
                    emoji: 'üëë',
                },
                {
                    label: 'Protect',  
                    description: 'Afficher les commandes de protection',
                    value: 'protect_commands',
                    emoji: 'üõ°Ô∏è',
                },
                {
                    label: 'Logs Bot',  
                    description: 'Afficher les commandes de logs',
                    value: 'logs_commands',
                    emoji: 'üìú',
                },
                {
                    label: 'WhiteList & BlackList',
                    description: 'Afficher les commandes de blacklist et whitelist',
                    value: 'blacklist_whitelist_commands',
                    emoji: 'üö´',
                },
                {
                    label: 'Moderations',
                    description: 'Afficher les commandes de Mod√©ration',
                    value: 'mode_commands',
                    emoji: '‚öôÔ∏è',
                },
                {
                    label: 'Utils',
                    description: 'Afficher les commandes Utilitaires',
                    value: 'utility_commands',
                    emoji: 'üîß',
                },
                {
                    label: 'Gestions',
                    description: 'Afficher les commandes de gestion',
                    value: 'management_commands',
                    emoji: 'üìã',
                },
                {
                    label: 'Backup',
                    description: 'Afficher les commandes de sauvegarde',
                    value: 'backup_commands',
                    emoji: 'üíæ',
                },
                {
                    label: 'Ticket',
                    description: 'Afficher les commandes de ticket',
                    value: 'ticket_commands',
                    emoji: 'üéüÔ∏è',
                },
                {
                    label: 'Giveaway',
                    description: 'Afficher les commandes de giveaway',
                    value: 'giveaway_commands',
                    emoji: 'üéâ',
                },
            ]);

        const row = new ActionRowBuilder().addComponents(selectMenu);

        const sentMessage = await message.reply({ embeds: [embed], components: [row] });

        const filter = interaction => interaction.customId === 'helpall_menu' && interaction.user.id === message.author.id;
        const collector = sentMessage.createMessageComponentCollector({ filter, time: 300000 });

        collector.on('collect', async interaction => {
            if (!interaction.isStringSelectMenu()) return;

            let selectedCategory;
            switch (interaction.values[0]) {
                case 'owner_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Owners**')
                        .setDescription('Voici les commandes li√©es √† l\'owner disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}owner`, value: '‚Ä¢ Ajouter un Owner.' },
                            { name: `‚û§ ${config.prefix}owners`, value: '‚Ä¢ Afficher la liste des Owners.' },
                            { name: `‚û§ ${config.prefix}unowner`, value: '‚Ä¢ Retirer un Owner.' },
                            { name: `‚û§ ${config.prefix}ownerbot`, value: '‚Ä¢ Affiche les infos sur le Staff-Bot.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'protect_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Protect**')
                        .setDescription('Voici les commandes de protection disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}verify`, value: '‚Ä¢ Ouvre le menu pour mettre en place la v√©rification.' },
                            { name: `‚û§ ${config.prefix}badwords`, value: '‚Ä¢ G√©rer les badwords du serveur.' },
                            { name: `‚û§ ${config.prefix}antilink`, value: '‚Ä¢ G√®re l\'anti-link.' },
                            { name: `‚û§ ${config.prefix}antibot`, value: '‚Ä¢ G√®re l\'anti-bot.' },
                            { name: `‚û§ ${config.prefix}antichannelcreate`, value: '‚Ä¢ G√®re l\'anti-channel-create.' },
                            { name: `‚û§ ${config.prefix}antichanneldelete`, value: '‚Ä¢ G√®re l\'anti-channel-delete.' },
                            { name: `‚û§ ${config.prefix}anticreatelimit`, value: '‚Ä¢ G√©rer les kick des membres ayants un compte trop recent.' },
                            { name: `‚û§ ${config.prefix}antieveryone`, value: '‚Ä¢ G√®re l\'anti-everyone.' },
                            { name: `‚û§ ${config.prefix}antihere`, value: '‚Ä¢ G√®re l\'anti-here.' },
                            { name: `‚û§ ${config.prefix}antirolecreate`, value: '‚Ä¢ G√®re l\'anti-role-create.' },
                            { name: `‚û§ ${config.prefix}antiroledelete`, value: '‚Ä¢ G√®re l\'anti-role-delete.' },
                            { name: `‚û§ ${config.prefix}antiroleupdate`, value: '‚Ä¢ G√®re l\'anti-role-update.' },
                            { name: `‚û§ ${config.prefix}antiraid`, value: '‚Ä¢ Active ou d√©sactive les protections antiraid.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                    case 'logs_commands':  
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Logs Protect Bot**')
                        .setDescription('Voici les commandes de logs disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}setlogs`, value: '‚Ä¢ Configure les salons de logs du serveur.' },
                            { name: `‚û§ ${config.prefix}logs-antibot`, value: '‚Ä¢ G√©rer les logs d\'ajout de Bots.' },
                            { name: `‚û§ ${config.prefix}logs-antichannelcreate`, value: '‚Ä¢ G√©rer les logs des creations de channels.' },
                            { name: `‚û§ ${config.prefix}logs-antichanneldelete`, value: '‚Ä¢ G√©rer les logs des supressions de channels.' },
                            { name: `‚û§ ${config.prefix}logs-anticreatelimit`, value: '‚Ä¢ G√©rer les logs des creations de compte recentes.' },
                            { name: `‚û§ ${config.prefix}logs-antieveryone`, value: '‚Ä¢ G√©rer les logs des mentions "everyone".' },
                            { name: `‚û§ ${config.prefix}logs-antihere`, value: '‚Ä¢ G√©rer les logs des mentions "here".' },
                            { name: `‚û§ ${config.prefix}logs-antilink`, value: '‚Ä¢ G√©rer les logs des liens.' },
                            { name: `‚û§ ${config.prefix}logs-antirolecreate`, value: '‚Ä¢ G√©rer les logs des creations de r√¥les.' },
                            { name: `‚û§ ${config.prefix}logs-antiroledelete`, value: '‚Ä¢ G√©rer les logs des supressions de r√¥les.' },
                            { name: `‚û§ ${config.prefix}logs-antiroleupdate`, value: '‚Ä¢ G√©rer les logs des updates de r√¥les.' },
                            { name: `‚û§ ${config.prefix}logs-badwords`, value: '‚Ä¢ G√©rer les logs des badwords.' },
                        )
                        .setFooter({ text: config.footer });
                        
                    break;
                case 'blacklist_whitelist_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**WhiteList & Blacklist**')
                        .setDescription('Voici les commandes de blacklist et whitelist disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}blacklist`, value: '‚Ä¢ Ajoute un utilisateur √† la BlackList.' },
                            { name: `‚û§ ${config.prefix}unblacklist`, value: '‚Ä¢ Retire un utilisateur de la BlackList.' },
                            { name: `‚û§ ${config.prefix}blacklists`, value: '‚Ä¢ Affiche tous les utilisateurs pr√©sents dans la BlackList.' },
                            { name: `‚û§ ${config.prefix}whitelist`, value: '‚Ä¢ Ajoute un utilisateur √† la WhiteList.' },
                            { name: `‚û§ ${config.prefix}unwhitelist`, value: '‚Ä¢ Retire un utilisateur de la WhiteList.' },
                            { name: `‚û§ ${config.prefix}whitelists`, value: '‚Ä¢ Affiche tous les utilisateurs pr√©sents dans la WhiteList.' },
                            { name: `‚û§ ${config.prefix}whitelistrole`, value: '‚Ä¢ Ajoute un r√¥le √† la WhiteListRoles.' },
                            { name: `‚û§ ${config.prefix}unwhitelistrole`, value: '‚Ä¢ Retire un r√¥le de la WhiteListRoles.' },
                            { name: `‚û§ ${config.prefix}whitelistroles`, value: '‚Ä¢ Affiche tous les r√¥les pr√©sents dans la WhiteList.' },
                            { name: `‚û§ ${config.prefix}setuprolewl`, value: '‚Ä¢ Met en places le(s) r√¥les qui seront ajout√©(s) quand un utilisateur serra ajout√© a la WhiteList.' },
                            { name: `‚û§ ${config.prefix}blacklistrank`, value: '‚Ä¢ Ajoute un membre √† la BlackListRank.' },
                            { name: `‚û§ ${config.prefix}unblacklistrank`, value: '‚Ä¢ Retire un utilisateur de la BlackListRank.' },
                            { name: `‚û§ ${config.prefix}blacklistranks`, value: '‚Ä¢ Affiche les utilisateurs pr√©sents dans la BlackListRank.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'mode_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Mod√©ration**')
                        .setDescription('Voici les commandes de mod√©ration disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}autokick`, value: '‚Ä¢ Active le kick automatique d\'un membre.' },
                            { name: `‚û§ ${config.prefix}hide`, value: '‚Ä¢ Ajouter, afficher ou retirer des utilisateurs de la liste des Hides.' },
                            { name: `‚û§ ${config.prefix}chide`, value: '‚Ä¢ Cache un salon aux yeux des membres.' },
                            { name: `‚û§ ${config.prefix}unchide`, value: '‚Ä¢ R√©v√®le un salon aux yeux des membres' },
                            { name: `‚û§ ${config.prefix}ban`, value: '‚Ä¢ Ban un utilisateur du serveur.' },
                            { name: `‚û§ ${config.prefix}banip`, value: '‚Ä¢ Ban un utilisateur par son IP.' },
                            { name: `‚û§ ${config.prefix}bantemp`, value: '‚Ä¢ Ban temporairement un utilisateur.' },
                            { name: `‚û§ ${config.prefix}infoban`, value: '‚Ä¢ Affiche le statut de ban d\'un utilisateur.' },
                            { name: `‚û§ ${config.prefix}kick`, value: '‚Ä¢ Expulse un utilisateur du serveur.' },
                            { name: `‚û§ ${config.prefix}mute`, value: '‚Ä¢ Mute un utilisateur.' },
                            { name: `‚û§ ${config.prefix}unautokick`, value: '‚Ä¢ D√©sactive le kick automatique d\'un membre.' },
                            { name: `‚û§ ${config.prefix}unban`, value: '‚Ä¢ D√©bannit un utilisateur.' },
                            { name: `‚û§ ${config.prefix}unbanip`, value: '‚Ä¢ D√©bannit un utilisateur par son IP.' },
                            { name: `‚û§ ${config.prefix}unmute`, value: '‚Ä¢ Annule le mute d\'un utilisateur.' },
                            { name: `‚û§ ${config.prefix}voicekick`, value: '‚Ä¢ Expulse un utilisateur d\'un canal vocal.' },
                            { name: `‚û§ ${config.prefix}voicekickall`, value: '‚Ä¢ Expulse tous les utilisateurs d\'un canal vocal.' },
                            { name: `‚û§ ${config.prefix}warn`, value: '‚Ä¢ Avertit un utilisateur.' },
                            { name: `‚û§ ${config.prefix}mp`, value: '‚Ä¢ Envoie un message √† un membre sp√©cifique.' },
                        )
                        .setFooter({ text: config.footer });

                    break; 
                case 'utility_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Utils**')
                        .setDescription('Voici les commandes utilitaires disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}banner`, value: '‚Ä¢ Affiche la banni√®re d\'un utilisateur ou du serveur.' },
                            { name: `‚û§ ${config.prefix}boosters`, value: '‚Ä¢ Affiche les boosters du serveur.' },
                            { name: `‚û§ ${config.prefix}bots`, value: '‚Ä¢ Affiche tous les bots pr√©sents sur le serveur.' },
                            { name: `‚û§ ${config.prefix}calc`, value: '‚Ä¢ Effectue des calculs.' },
                            { name: `‚û§ ${config.prefix}gay`, value: '‚Ä¢ Affiche un niveau de "gay" pour un membre.' },
                            { name: `‚û§ ${config.prefix}help`, value: '‚Ä¢ Affiche l\'aide g√©n√©rale.' },
                            { name: `‚û§ ${config.prefix}helpall`, value: '‚Ä¢ Affiche toutes les commandes disponibles.' },
                            { name: `‚û§ ${config.prefix}homo`, value: '‚Ä¢ Calcule le pourcentage d\'homosexualit√© entre deux utilisateurs.' },
                            { name: `‚û§ ${config.prefix}lc`, value: '‚Ä¢ Calcule le pourcentage d\'amour entre deux utilisateurs.' },
                            { name: `‚û§ ${config.prefix}members`, value: '‚Ä¢ Affiche le nombre de membres sur le serveur.' },
                            { name: `‚û§ ${config.prefix}pic`, value: '‚Ä¢ Affiche l\'avatar d\'un utilisateur ou l\'ic√¥ne du serveur.' },
                            { name: `‚û§ ${config.prefix}ping`, value: '‚Ä¢ Affiche la latence du bot.' },
                            { name: `‚û§ ${config.prefix}search`, value: '‚Ä¢ Effectue une recherche sur Google.' },
                            { name: `‚û§ ${config.prefix}serverinfo`, value: '‚Ä¢ Affiche les informations relatives sur le serveur.' },
                            { name: `‚û§ ${config.prefix}snipe`, value: '‚Ä¢ Affiche le dernier message supprim√©.' },
                            { name: `‚û§ ${config.prefix}stat`, value: '‚Ä¢ Donne le nombre de serveurs sur lesquels est pr√©sent le bot.' },
                            { name: `‚û§ ${config.prefix}weather`, value: '‚Ä¢ Affiche la m√©t√©o pour une ville.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'management_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Gestions**')
                        .setDescription('Voici les commandes de gestion disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}addrole`, value: '‚Ä¢ Ajoute un r√¥le √† un membre.' },
                            { name: `‚û§ ${config.prefix}delrole`, value: '‚Ä¢ Retire un r√¥le d\'un membre.' },
                            { name: `‚û§ ${config.prefix}derank`, value: '‚Ä¢ Retire tous les r√¥les d\'un membre.' },
                            { name: `‚û§ ${config.prefix}clear`, value: '‚Ä¢ Supprime un nombre de messages sp√©cifi√©.' },
                            { name: `‚û§ ${config.prefix}clearuser`, value: '‚Ä¢ Supprime un nombre de messages sp√©cifi√© pour un membre.' },
                            { name: `‚û§ ${config.prefix}create`, value: '‚Ä¢ Cr√©e un emoji sur le serveur.' },
                            { name: `‚û§ ${config.prefix}sanctions`, value: '‚Ä¢ Affiche les sanctions d\'un membre' },
                            { name: `‚û§ ${config.prefix}clearsanctions`, value: '‚Ä¢ Supprime les sanctions d\'un membre.' },
                            { name: `‚û§ ${config.prefix}embed`, value: '‚Ä¢ Cr√©e un embed personnalis√© et l\'envoie dans un salon.' },
                            { name: `‚û§ ${config.prefix}lock`, value: '‚Ä¢ Verrouille un/all salon(s) pour les membres.' },
                            { name: `‚û§ ${config.prefix}unlock`, value: '‚Ä¢ D√©verrouille un/all salon(s) pour les membres.' },
                            { name: `‚û§ ${config.prefix}timelock`, value: '‚Ä¢ Verrouille un salon pour une dur√©e sp√©cifi√©e.' },
                            { name: `‚û§ ${config.prefix}userinfo`, value: '‚Ä¢ Donne les informations relatives sur un membre.' },
                            { name: `‚û§ ${config.prefix}voice`, value: '‚Ä¢ Affiche les stats vocaux.' },
                            { name: `‚û§ ${config.prefix}voicemoove`, value: '‚Ä¢ D√©place un membre vers un salon vocal.' },
                            { name: `‚û§ ${config.prefix}find`, value: '‚Ä¢ Cherche si un membre est dans un salon vocal.' },
                            { name: `‚û§ ${config.prefix}pin`, value: '‚Ä¢ √âpingle un message dans un salon textuel.' },
                            { name: `‚û§ ${config.prefix}renew`, value: '‚Ä¢ Renouvelle un salon.' },
                            { name: `‚û§ ${config.prefix}channelinfo`, value: '‚Ä¢ Affiche les informations d\'un salon sp√©cifique.' },
                            { name: `‚û§ ${config.prefix}say`, value: '‚Ä¢ Envoie un message avec le bot dans un salon sp√©cifique.' },
                            { name: `‚û§ ${config.prefix}votefame`, value: '‚Ä¢ Fait un vote entre 2 personnes pour savoir qui a le plus de fame.' },
                            { name: `‚û§ ${config.prefix}setjoiners`, value: '‚Ä¢ Configure le salon o√π sera envoy√© le message de bienvenue.' },
                            { name: `‚û§ ${config.prefix}setleaves`, value: '‚Ä¢ Configure le salon o√π sera envoy√© le message de d√©part.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'backup_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Backup**')
                        .setDescription('Voici les commandes de sauvegarde disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}backup`, value: '‚Ä¢ Ne pas USE {HS}.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'ticket_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Ticket**')
                        .setDescription('Voici les commandes de ticket disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}ticket`, value: '‚Ä¢ Met en place le panel de ticket.' },
                            { name: `‚û§ ${config.prefix}claim`, value: '‚Ä¢ R√©cup√®re un ticket.' },
                            { name: `‚û§ ${config.prefix}close`, value: '‚Ä¢ Ferme un ticket.' },
                            { name: `‚û§ ${config.prefix}add`, value: '‚Ä¢ Ajoute un membre au ticket.' },
                            { name: `‚û§ ${config.prefix}del`, value: '‚Ä¢ Supprime un membre du ticket.' },
                            { name: `‚û§ ${config.prefix}rename`, value: '‚Ä¢ Renomme un ticket.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                case 'giveaway_commands':
                    selectedCategory = new EmbedBuilder()
                        .setColor(config.color)
                        .setTitle('**Giveaway**')
                        .setDescription('Voici les commandes de giveaway disponibles :\n')
                        .addFields(
                            { name: `‚û§ ${config.prefix}giveaway`, value: '‚Ä¢ Cr√©e un giveaway.' },
                            { name: `‚û§ ${config.prefix}reerol`, value: '‚Ä¢ Annonce un nouveau gagnant.' },
                        )
                        .setFooter({ text: config.footer });

                    break;
                default:
                    return;
            }

            await interaction.update({ embeds: [selectedCategory], components: [row] });
        });

        collector.on('end', collected => {
            if (!collected.size) return sentMessage.edit({ components: [] });
        });
    },
};
